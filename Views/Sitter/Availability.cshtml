@model PetSitter.ViewModels.SitterAvailabilityVM
@{
    ViewData["Title"] = "Availability";
    string message = Model != null ? Model.Message : String.Empty;
}
<h1>Add Availability</h1>
@if (message != null)
{
    <div class="alert alert-danger">@message</div>
}
<div class="availability">
<form  asp-action="Availability" >
    <div class="form-group">
        <input asp-for="SitterId" class="form-control" value="@Model.SitterId" type="hidden" />
    </div>
    <div class="form-group">
        <label asp-for="StartDate" class="control-label"></label>
        <input asp-for="StartDate" class="form-control" type="date" value="" min="@DateTime.Now.ToString("yyyy-MM-dd")" />
        <span asp-validation-for="StartDate" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="EndDate" class="control-label"></label>
        <input asp-for="EndDate" class="form-control" type="date" value="" min="@DateTime.Now.ToString("yyyy-MM-dd")" />
        <span asp-validation-for="EndDate" class="text-danger"></span>
    </div>

    <button type="submit" class="btn">Save</button>
</form>
<div id="calendar"></div>
</div>
 
<link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.css" rel="stylesheet" />
<link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.print.css" rel="stylesheet" media="print"/>
 
@section Scripts{
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.js"></script>
 
        <script>
      


            $(document).ready(function () {
                // initialize the calendar
                $('#calendar').fullCalendar({
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,basicWeek,basicDay'
                    },
                    defaultDate: new Date(),
                    navLinks: true, // can click day/week names to navigate views
                    editable: false,
                    eventLimit: false, // allow "more" link when too many events
                events: {
                    url: '@Url.Action("GetEvents", "sitter")',
                    type: 'GET',
                    error: function () {
                        alert('There was an error fetching calendar data.');
                    }
                },
                    // add a callback function to handle the event click
                  
                });
            });
    </script>
    }
<style>
    .availability{
        display:flex;
        justify-content:space-around;
        margin: 40px auto;
    }
 

    /* Style for the form labels */
        .availability .control-label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    /* Style for the form inputs */
    .availability .form-control {
        display: block;
        width: 100%;
        height: 38px;
        padding: 6px 12px;
        font-size: 14px;
        line-height: 1.42857143;
        color: #555555;
        background-color: #ffffff;
        background-image: none;
        border: 1px solid #cccccc;
        border-radius: 4px;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        margin:10px;
    }

  

    /* Style for the "Save" button */
        .availability form .btn {
        background-color: #dce6f496;
        color: #084298;
        border: 1px solid #ccc;
        font-weight: bold;
        width:100%;
        margin:10px;
    }

    /* Style for the FullCalendar */
        .availability #calendar {
        max-width: 600px;
    }


</style>